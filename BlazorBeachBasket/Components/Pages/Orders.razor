@page "/orders/{RestId:int}"
@rendermode InteractiveServer
@inject NavigationManager nav
@using System.Collections.Generic
@using Db
@using BlazorBeachBasket
<PageTitle>Orders</PageTitle>

<div class="orders-container">
    <div class="header">
        <button type="button" class="back-btn" @onclick="@ToHome">Back</button>
        <h1>@restaurant.RestaurantName</h1>
        <h2>Latest Orders</h2>
        <button class="update-btn" onclick="toggleActionsColumn()">Update Status</button>
    </div>

    <div id="orderDetailsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Order Details</h2>
            <p id="orderDetails"></p>
        </div>
    </div>

    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <p>Are you sure you want to change the status?</p>
            <button id="confirmBtn" style="background-color: darkgreen; color: black;">Confirm</button>
            <button id="cancelBtn" style="background-color: darkred; color: black;">Cancel</button>
        </div>
    </div>
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Order ID</th>
                    <th>Items Ordered</th>
                    <th>Order Cost</th>
                    <th>Order Status</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</div>


@code {
    [Parameter]
    public int RestId { get; set; }


    Restaurant restaurant;
    Database database = new Database();
    protected override void OnInitialized()
    {
        database.ImportData();
        database.AssingData();
        restaurant = database.Restaurants.FirstOrDefault(o => o.RestaurantId == RestId);
    }

    void ToHome()
    {
        nav.NavigateTo($"/home/{RestId}");
    }
   
}

            